<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Dashboard</title>
    <link
      href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css"
    />
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="d-flex">
        <div class="sidebar">
          <a href="#" class="d-flex flex-column align-items-center text-center" id="logo">
            <img
              id="avatarImage"
              src="https://avataaars.io/?avatarStyle=Circle&topType=ShortHairDreads01&accessoriesType=Round&hairColor=Brown&clotheType=GraphicTee&clotheColor=Blue&graphicType=Skull&eyeType=Happy&eyebrowType=Default&mouthType=Smile&skinColor=Light"
              alt="Random Avatar"
              class="img-fluid rounded-circle mb-3"
              style="width: 60px; height: 60px"
            />
          </a>
          <div style="margin-bottom: 400px">
              <a href="Dashboard.html"  id="dashboardLink"><i class="fas fa-tachometer-alt"></i><span class="d-block">All-Tasks</span></a>
              <a href="#" id="settingsLink"><i class="fas fa-cog"></i><span class="d-block">Pending tasks</span></a>
          </div>
        </div>
        <div class="main-content">
            <div class="header d-flex justify-content-between align-items-center" style="height: 50px;">
                <div style="white-space: nowrap;">Welcome, <span id="username"></span></div>
                <div class="d-flex align-items-center">
                    <div class="date" style="margin-right: 20px;" id="currentDate"></div>
                    <button id="logoutButton" class="btn btn-primary">Logout</button>
                </div>
            </div>
            <div class="content">
                <div class="main">
                    <ul class="nav nav-tabs">
                        <li class="nav-item">
                            <a class="nav-link active" id="all-todos-tab" href="#all-todos" data-toggle="tab">All Tasks</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" id="Personal-tab" href="#Personal" data-toggle="tab">Personal</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" id="Work-tab" href="#Work" data-toggle="tab">Work</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" id="Me-Time-tab" href="#Me-Time" data-toggle="tab">Me-time</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" id="Household-tab" href="#Household" data-toggle="tab">Household</a>
                        </li>
                        <li class="nav-item ml-auto">
                            <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#addTaskModal" data-category="all-todos">
                                Add Task
                            </button>
                        </li>
                    </ul>
                    <div class="tab-content">
                        <div class="tab-pane fade show active" id="all-todos">
                            <div class="no-tasks-message" id="noTasksMessage" style="display: none;">
                                No tasks are available. Add one now!
                            </div>
                            <div class="row" id="all-tasks"></div>
                        </div>
                        <div class="tab-pane fade" id="Personal">
                            <div class="row" id="Personal-tasks"></div>
                        </div>
                        <div class="tab-pane fade" id="Work">
                            <div class="row" id="Work-tasks"></div>
                        </div>
                        <div class="tab-pane fade" id="Me-Time">
                            <div class="row" id="Me-Time-tasks"></div>
                        </div>
                        <div class="tab-pane fade" id="Household">
                            <div class="row" id="Household-tasks"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="modal fade" id="addTaskModal" tabindex="-1" role="dialog" aria-labelledby="addTaskModalLabel" aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="addTaskModalLabel">Add New Task</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <form id="taskForm">
                        <div class="form-group">
                            <label for="taskTitle">Task Title</label>
                            <input type="text" class="form-control" id="taskTitle" name="title" required />
                        </div>
                        <div class="form-group">
                            <label for="dueDate">Due Date</label>
                            <input type="date" class="form-control" id="dueDate" name="dueDate" required />
                        </div>
                        <div class="form-group">
                            <label for="description">Description</label>
                            <textarea class="form-control" id="description" name="description" rows="3" required></textarea>
                        </div>
                        <div class="form-group">
                            <label for="category">Category</label>
                            <select class="form-control" id="category" name="category" required>
                                <option value="Personal">Personal</option>
                                <option value="Work">Work</option>
                                <option value="Me-Time">Me-Time</option>
                                <option value="Household">Household</option>
                            </select>
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                    <button type="button" class="btn btn-primary" id="addTaskButton">Add</button>
                    <button type="button" class="btn btn-primary" id="updateTaskButton" style="display:none;">Update</button>
                </div>
            </div>
        </div>
    </div>
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.5.2/dist/umd/popper.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
    <script src="Script.js"></script>
    <script>
      document.addEventListener('DOMContentLoaded', () => {
        fetch('https://jsonplaceholder.typicode.com/users')
          .then(response => response.json())
          .then(users => {
            const randomUser = users[Math.floor(Math.random() * users.length)];
            const avatarImage = document.getElementById('avatarImage');
            avatarImage.src = `https://robohash.org/${randomUser.id}?size=200x200`;
          })
          .catch(error => console.error('Error fetching users:', error));
      });
    </script>
</body>
</html>
